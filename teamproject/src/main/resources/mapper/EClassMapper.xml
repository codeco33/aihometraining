<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="aihometraining.team.mapper.EClassMapper">
	
	 <resultMap type="EClassOpenApplyForm" id="EClassOpenApplyFormResultMap">
	
		<result column="eClassOpenAppleyCode" 			property="eClassOpenAppleyCode"/>
		<result column="eClassOpenApplyMemberEmail"		property="eClassOpenApplyMemberEmail"/>
		<result column="eClassOpenApplyName" 			property="eClassOpenApplyName"/>
		<result column="eClassOpenApplyCategorySamll" 	property="eClassOpenApplyCategorySamll"/>
		<result column="eClassOpenApplyPrice" 			property="eClassOpenApplyPrice"/>
		<result column="eClassIntroduceCode"			property="eClassIntroduceCode"/>
		<result column="eClassOpenApplyDate"			property="eClassOpenApplyDate"/>
		<result column="eClassOpenApplyApproveState"	property="eClassOpenApplyApproveState"/>
		
			<association property="member" javaType="Member">
				<id 	column="memberEmail" 			property="memberEmail"/>
				<result column="memberPw" 				property="memberPw"/>
				<result column="memberLevelCode" 		property="memberLevelCode"/>
				<result column="memberNewsAgree" 		property="memberNewsAgree"/>
				<result column="memberRegDate" 			property="memberRegDate"/>
				<result column="memberName" 			property="memberName"/>
				<result column="memberPhone"	 		property="memberPhone"/>
				<result column="memberNickname" 		property="memberNickname"/>
				<result column="memberBirthday" 		property="memberBirthday"/>
				<result column="memberGender" 			property="memberGender"/>
				<result column="memberRecommendEmail" 	property="memberRecommendEmail"/>
				<result column="memberFinalPoint" 		property="memberFinalPoint"/>
			</association>
			
			<association property="eClassCategorySmall" javaType="EClassCategorySmall">
				<id 	column="eClassCategorySmallCode" 				property="eClassCategorySmallCode"/>
				<result column="eClassCategorySmallName" 				property="eClassCategorySmallName"/>
				<result column="eClassCategoryMediumCode" 				property="eClassCategoryMediumCode"/>
				<result column="eClassCategoryMediumName" 				property="eClassCategoryMediumName"/>
				<result column="eClassCategoryLargeCode" 				property="eClassCategoryLargeCode"/>
				<result column="eClassCategoryLargeName" 				property="eClassCategoryLargeName"/>
				<result column="memberEmail" 							property="memberEmail"/>
				<result column="eClassCategorySmallRegDate" 			property="eClassCategorySmallRegDate"/>
				<result column="updateMemberEmail" 						property="updateMemberEmail"/>
				<result column="eClassCategorySmallFinalUpdateDate" 	property="eClassCategorySmallFinalUpdateDate"/>
			</association>
			
			<association property="eClassIntroduce" javaType="EClassIntroduce">
				<id 	column="eClassIntroduceCode" 		property="eClassIntroduceCode"/>
				<result column="memberEmail" 				property="memberEmail"/>
				<result column="eClassIntroduceContent" 	property="eClassIntroduceContent"/>
				<result column="memberUpdateEmail" 			property="memberUpdateEmail"/>
				<result column="eClassIntroducetDate" 		property="eClassIntroducetDate"/>
				<result column="eClassIntroduceImg" 		property="eClassIntroduceImg"/>
			</association>
			
	</resultMap>
	
	<resultMap type="EClassCategorySmall" id="eClassCategorySmallResultMap">
	
		<result column="eClassCategorySmallCode" 			property="eClassCategorySmallCode"/>
		<result column="eClassCategorySmallName"			property="eClassCategorySmallName"/>
		<result column="eClassCategoryMediumCode" 			property="eClassCategoryMediumCode"/>
		<result column="eClassCategoryMediumName" 			property="eClassCategoryMediumName"/>
		<result column="eClassCategoryLargeCode" 			property="eClassCategoryLargeCode"/>
		<result column="eClassCategoryLargeName"			property="eClassCategoryLargeName"/>
		<result column="memberEmail"						property="memberEmail"/>
		<result column="eClassCategorySmallRegDate"			property="eClassCategorySmallRegDate"/>
		<result column="updateMemberEmail"					property="updateMemberEmail"/>
		<result column="eClassCategorySmallFinalUpdateDate"	property="eClassCategorySmallFinalUpdateDate"/>
		
	</resultMap>
	
	<resultMap type="EClassIntroduce" id="eClassIntroduceResultMap">
	
		<result column="eClassIntroduceCode" 		property="eClassIntroduceCode"/>
		<result column="memberEmail" 				property="memberEmail"/>
		<result column="eClassIntroduceContent" 	property="eClassIntroduceContent"/>
		<result column="memberUpdateEmail" 			property="memberUpdateEmail"/>
		<result column="eClassIntroducetDate"		property="eClassIntroducetDate"/>
		<result column="eClassIntroduceImg"			property="eClassIntroduceImg"/>
		<result column="eClassCategorySmallCode"	property="eClassCategorySmallCode"/>
		
			<association property="eClassCategorySmall" javaType="EClassCategorySmall">
				<id 	column="eClassCategorySmallCode" 				property="eClassCategorySmallCode"/>
				<result column="eClassCategorySmallName" 				property="eClassCategorySmallName"/>
				<result column="eClassCategoryMediumCode" 				property="eClassCategoryMediumCode"/>
				<result column="eClassCategoryMediumName" 				property="eClassCategoryMediumName"/>
				<result column="eClassCategoryLargeCode" 				property="eClassCategoryLargeCode"/>
				<result column="eClassCategoryLargeName" 				property="eClassCategoryLargeName"/>
				<result column="memberEmail" 							property="memberEmail"/>
				<result column="eClassCategorySmallRegDate" 			property="eClassCategorySmallRegDate"/>
				<result column="updateMemberEmail" 						property="updateMemberEmail"/>
				<result column="eClassCategorySmallFinalUpdateDate" 	property="eClassCategorySmallFinalUpdateDate"/>
			</association>
	
	</resultMap>
	
	<resultMap type="eclasssectiontitle" id="eclasssectiontitleMap">
	
		<result column="eClassSectionTitleCode" 		property="eClassSectionTitleCode"/>
		<result column="memberEmail" 					property="memberEmail"/>
		<result column="eClassSectionTitleName" 		property="eClassSectionTitleName"/>
		<result column="eClassSectionTitleDate"			property="eClassSectionTitleDate"/>
		<result column="eClassSectionTitleUpdateDate"	property="eClassSectionTitleUpdateDate"/>
		<result column="memberUpdateEmail"				property="memberUpdateEmail"/>
		
	</resultMap>
	
	<resultMap type="eclasssectioncurriculum" id="eclasssectioncurriculumMap">
	
		<result column="eClassSectionCurriculumCode" 		property="eClassSectionCurriculumCode"/>
		<result column="memberEmail" 						property="memberEmail"/>
		<result column="eClassSectionTitleCode" 			property="eClassSectionTitleCode"/>
		<result column="eClassSectionCurriculumTitle"		property="eClassSectionCurriculumTitle"/>
		<result column="eClassSectionCurriculumAddFile"		property="eClassSectionCurriculumAddFile"/>
		<result column="eClassSectionCurriculumRunningTime"	property="eClassSectionCurriculumRunningTime"/>
		<result column="eClassSectionCurriculumRegDate"		property="eClassSectionCurriculumRegDate"/>
		<result column="eClassSectionCurriculumUpdateDate"	property="eClassSectionCurriculumUpdateDate"/>
		<result column="memberUpdateEmail"					property="memberUpdateEmail"/>
		<result column="eClassSectionCurriculumState"		property="eClassSectionCurriculumState"/>
	
	</resultMap>
	
	<resultMap type="eclassquestion" id="eclassquestionMap">
	
		<result column="eClassQuestionCode" 		property="eClassQuestionCode"/>
		<result column="memberEmail" 				property="memberEmail"/>
		<result column="eClassQuestionTitle" 		property="eClassQuestionTitle"/>
		<result column="eClassQuestionRegDate"		property="eClassQuestionRegDate"/>
		<result column="memberUpdateEmail"			property="memberUpdateEmail"/>
		<result column="eClassQuestionUpdateDate"	property="eClassQuestionUpdateDate"/>
	
	</resultMap>
	
	<resultMap type="eclassanswer" id="eclassanswerMap">
	
		<result column="eClassAnswerCode" 			property="eClassAnswerCode"/>
		<result column="eClassQuestionCode" 		property="eClassQuestionCode"/>
		<result column="memberEmail" 				property="memberEmail"/>
		<result column="eClassAnsweTitle" 			property="eClassAnsweTitle"/>
		<result column="eClassAnswerRegDate"		property="eClassAnswerRegDate"/>
		<result column="memberUpdateEmail"			property="memberUpdateEmail"/>
		<result column="eClassAnswerUpdateDate"		property="eClassAnswerUpdateDate"/>
	
	</resultMap>
	
	<insert id="EClassAnswerInsert" parameterType="EClassAnswer">
		/* Question 등록처리 */
		INSERT INTO eclassanswer(
			 eClassAnswerCode
			,eClassQuestionCode
			,memberEmail
			,eClassAnsweTitle
			,eClassAnswerRegDate
			,memberUpdateEmail
			,eClassAnswerUpdateDate
		)VALUES(
			 #{eClassAnswerCode}
			,#{eClassQuestionCode}
			,#{memberEmail}
			,#{eClassAnsweTitle}
			,NOW()
			,NULL
			,NULL
		);
	</insert>
	
	<insert id="EClassQuestionInsert" parameterType="EClassQuestion">
		/* Question 등록처리 */
		INSERT INTO eclassquestion(
			 eClassQuestionCode
			,memberEmail
			,eClassQuestionTitle
			,eClassQuestionRegDate
			,memberUpdateEmail
			,eClassQuestionUpdateDate
		)VALUES(
			 #{eClassQuestionCode}
			,#{memberEmail}
			,#{eClassQuestionTitle}
			,NOW()
			,NULL
			,NULL
		);
	</insert>
	
	<insert id="EClassSectionCurriculumInsert" parameterType="EClassSectionCurriculum">
		/* SectionCurriculum 등록처리 */
		INSERT INTO eclasssectioncurriculum(
			 eClassSectionCurriculumCode
			,memberEmail
			,eClassSectionTitleCode
			,eClassSectionCurriculumTitle
			,eClassSectionCurriculumAddFile
			,eClassSectionCurriculumRunningTime
			,eClassSectionCurriculumRegDate
			,eClassSectionCurriculumUpdateDate
			,memberUpdateEmail
			,eClassSectionCurriculumState
		)VALUES(
			 #{eClassSectionCurriculumCode}
			,#{memberEmail}
			,#{eClassSectionTitleCode}
			,#{eClassSectionCurriculumTitle}
			,NULL
			,NULL
			,NOW()
			,NULL
			,NULL
			,NULL
		);
	</insert>
	
	<insert id="EClassSectionTitleInsert" parameterType="EClassSectionTitle">
		/* SectionTitle 등록처리 */
		INSERT INTO eclasssectiontitle(
			 eClassSectionTitleCode
			,memberEmail
			,eClassSectionTitleName
			,eClassSectionTitleDate
			,eClassSectionTitleUpdateDate
			,memberUpdateEmail
		)VALUES(
			 #{eClassSectionTitleCode}
			,#{memberEmail}
			,#{eClassSectionTitleName}
			,NOW()
			,NULL
			,null
		);
	</insert>
	
	<insert id="EClassIntroduceInsert" parameterType="EClassIntroduce">
		/* introduce 등록처리 */
		INSERT INTO eclassintroduce (
			 eClassIntroduceCode
			,memberEmail
			,eClassIntroduceContent
			,memberUpdateEmail
			,eClassIntroducetDate
			,eClassIntroduceImg
			,eClassCategorySmallCode
		)VALUES (
			 #{eClassIntroduceCode}
			,#{memberEmail}
			,#{eClassIntroduceContent}
			,null
			,NOW()
			,NULL
			,#{eClassCategorySmallCode}
		);
	</insert>
	
	<select id="eClassCategoryList" resultType="EClassCategorySmall">
		/* 카테고리 조회 */
		SELECT
			 cs.eClassCategorySmallCode
			,cs.eClassCategorySmallName
			,cs.eClassCategoryMediumCode
			,cs.eClassCategoryMediumName
			,cs.eClassCategoryLargeCode
			,cs.eClassCategoryLargeName
		FROM
			eclasscategorysmall AS cs;
	</select>
	
	<select id="eClassCategoryLarge" parameterType="String" resultMap="eClassCategorySmallResultMap">
		/* 운동클래스 카테고리 Medium 조회 */
		SELECT
			 cs.eClassCategoryMediumCode
			,cs.eClassCategoryMediumName
		FROM
			eclasscategorysmall AS cs 
		WHERE
			cs.eClassCategoryLargeCode = #{eClassCategoryLargeCode};
	</select>
	
	<select id="eClassCategoryMedium" parameterType="String" resultMap="eClassCategorySmallResultMap">
		/* 운동클래스 카테고리 small 조회 */
		SELECT
			 es.eClassCategorySmallCode
			,es.eClassCategorySmallName
		FROM
			 eclasscategorysmall AS es
		WHERE 	
			 es.eClassCategoryMediumCode = #{eClassCategoryMediumCode};
	</select>
</mapper>