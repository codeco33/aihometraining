<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="aihometraining.team.mapper.ReportMapper">

	<resultMap type="ReportStandard" id="reportStandardResultMap">
		<id 	column="reportStandardCode" 		property="reportStandardCode"/>
		<result column="reportStandardName" 		property="reportStandardName"/>
		<result column="memberEmail" 				property="memberEmail"/>
		<result column="reportStandardRegDate" 		property="reportStandardRegDate"/>
		<result column="memberUpdateEmail" 			property="memberUpdateEmail"/>
		<result column="reportStandardUpdateDate" 	property="reportStandardUpdateDate"/>
	</resultMap>

	<select id="getReportStandardList" parameterType="String" resultMap="reportStandardResultMap" fetchSize="1000">
		/* 신고 기준 목록 조회 */
		SELECT 
			 r.reportStandardCode
			,r.reportStandardName
			,r.memberEmail
			,r.reportStandardRegDate
			,r.memberUpdateEmail
			,r.reportStandardUpdateDate
			
		FROM 
			reportstandard AS r; 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="searchKey != null and searchKey != '' and searchValue != ''">
				${searchKey} LIKE CONCAT('%', #{searchValue}, '%')
			</if>
		</trim>;
	</select>
</mapper>
