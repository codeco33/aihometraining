<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default}">
<!-- 사용자 정의 title -->
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<!-- 사용자 정의 Css -->
<th:block layout:fragment="customCss">
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/simple-line-icons.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/icheck/skins/flat/red.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/select2.min.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/icheck/skins/flat/red.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/normalize.css}">
	<style type="text/css">
		#giveBtnDiv {
			text-align: right;
		}
		.panel-heading > h4 {
			font-weight: bold;
			margin-bottom: 0;
			border-bottom: 2px solid #58666e;
			padding-bottom: 5px;
		}
		.btn-outline {
			padding: 5px 20px;
			
		}
		.giveBtn {
			margin-right: 5px;
			margin-bottom: 5px;
		}
		#givePoint tbody tr td:last-child {
			padding: 0;
		}
		
		#givePoint tbody td {
			vertical-align: middle;
		}
		
		#givePointselectBtn {
			height: 28px;
			padding: 0 20px;
		}
		
	</style>
</th:block>

<th:block layout:fragment="customContents">
	<div class="col-md-12">

		<!-- 포인트 지급 패널 -->
		<div class=" panel">
			<div class="panel-heading bg-white border-none">
				<h4>
					<span class="fa fa-user-plus"></span> 포인트 지급
				</h4>
			</div>
			<div class="panel-body">
				<div id="givePointFilter">
					<!-- <select class="form-control">
                      <option>전체</option>
                      <option>첫 회원 가입</option>
                      <option>챌린지 달성</option>
                      <option>일지 1주일 작성</option>
                      <option>기타</option>
                    </select> -->
                        <select id="givePointCate" class="select2-A">
                            <option value="전체회원목록">전체회원목록</option>
                          <optgroup class="cateLabel" label="포인트 지급">
                            <option value="첫 회원 가입">첫 회원 가입</option>
                            <option value="챌린지 달성">챌린지 달성</option>
                            <option value="일지 1주일 작성">일지 1주일 작성</option>
                            <option value="기타">기타</option>
                          </optgroup>
                          <optgroup class="cateLabel" label="포인트 차감">
                            <option value="기타">기타</option>
                          </optgroup>
                        </select>
                        <div class="btn-group" role="group">
                          <button id="givePointselectBtn" type="button" class="btn  dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            포인트 관리
                            <span class="fa fa-angle-down"></span>
                          </button>
                          <ul class="dropdown-menu">
                            <li><a href="#">선택 지급</a></li>
                            <li><a href="#">선택 차감</a></li>
                          </ul>
                        </div>
				</div>
				<div class="responsive-table ">
					<table id="givePoint" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th><input type="checkbox" class="icheck" name="checkbox1" /></th>
								<th>회원이름</th>
								<th>회원이메일</th>
								<th>포인트 지급 기준 만족</th>
								<th>포인트 지급 관리</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><input type="checkbox" class="icheck" name="checkbox1" /></td>
								<td>홍길동</td>
								<td>id001@email.com</td>
								<td>
									<span class="label label-outline label-default">챌린지 달성</span>
								</td>
								<td>
									<div class="btn-group" role="group">
										<input type="button"
											class="btn btn-outline btn-success giveBtn" value="지급">
										<input type="button"
											class="btn btn-outline btn-danger deductBtn" value="차감">
									</div>
								</td>
							</tr>
							<tr>
								<td><input type="checkbox" class="icheck" name="checkbox1" /></td>
								<td>이순신</td>
								<td>id002@email.com</td>
								<td>
									<span class="label label-outline label-default">일지 1주일 작성</span>
								</td>
								<td>
									<div class="btn-group" role="group">
										<input type="button"
											class="btn btn-outline btn-success giveBtn" value="지급">
										<input type="button"
											class="btn btn-outline btn-danger deductBtn" value="차감">
									</div>
								</td>
							</tr>
							<tr>
								<td><input type="checkbox" class="icheck" name="checkbox1" /></td>
								<td>유관순</td>
								<td>id003@email.com</td>
								<td>
									
								</td>
								<td>
									<div class="btn-group" role="group">
										<input type="button"
											class="btn btn-outline btn-success giveBtn" value="지급">
										<input type="button"
											class="btn btn-outline btn-danger deductBtn" value="차감">
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
<!-- 기타 지급 내용 입력 모달 -->
<div id="disapproveModal" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
              <h4 class="modal-title">포인트 지급/차감</h4>
            </div>
			<div class="modal-body">
				<form>
					<div class="form-group col-sm-12">
						<label class="col-sm-3 control-label text-right">환불 미승인 사유</label>
                             <div class="col-sm-8">
                               <div class="col-sm-12 padding-0">
                                 <select class="form-control">
                                   <option>option one</option>
                                   <option>option two</option>
                                   <option>option three</option>
                                   <option>option four</option>
                                 </select>
                               </div>
                             </div>
                   	</div>
                   	<div class="form-group col-sm-12">
                   		<label class="col-sm-3 control-label text-right">상세 사유</label>
                        <div class="col-sm-8">
                        	<textarea class="sangseTextarea"></textarea>
						</div>
                    </div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">취소</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal">저장</button>
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->
</th:block>
<th:block layout:fragment="customBodyScript">
	<!-- plugins -->
	<script th:src="@{/asset/js/plugins/moment.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.dataTables.min.js}"></script>
	<script th:src="@{/asset/js/plugins/dataTables.bootstrap.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.nicescroll.js}"></script>
	<script th:src="@{/asset/js/plugins/icheck.min.js}"></script>
	<script th:src="@{/asset/js/plugins/select2.full.min.js}"></script>


	<!-- custom -->
	<script th:src="@{/asset/js/main.js}"></script>
	<script type="text/javascript">
		$(document).on('change', '#givePointCate', function(){
			if($('option:selected').val() == '기타'){
				console.log($('option:selected').val());
			}
		});
	
		$(document).ready(function() {
			$('#givePoint').DataTable({
				order : [ 2, 'asc' ],
				lengthChange : false,
				pageLength : 20,
				filter: false
			});
			
			/*iCheck 제이쿼리*/
			$('input').iCheck({
		        checkboxClass: 'icheckbox_flat-red',
		        radioClass: 'iradio_flat-red'
		      });
			
			 $(".select2-A").select2({
			      placeholder: "지급 기준 선택",
			      allowClear: true
			    });

			
		});
	</script>
	<!-- end: Javascript -->
</th:block>
</html>