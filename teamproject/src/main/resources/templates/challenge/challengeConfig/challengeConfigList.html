<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default}">
<!-- 사용자 정의 title -->
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<!-- 사용자 정의 Css -->
<th:block layout:fragment="customCss">
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/simple-line-icons.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/asset/css/plugins/mediaelementplayer.css}" />
	<style type="text/css">
		
		.col-md-11 {
			padding:0;
		}
		.col-sm-10 {
			paddig: 0;
		}
		.control-label{
			padding: 0;
			padding-top:10px;
		}
		.formChecks label {
			margin-right: 10px;
			padding-top: 7px;
		}
		.dateInput {
			width: 100px;
			height: 33px;
			margin-bottom: 5px;
		}		

		.form-group {
			padding-bottom: 38px;
			border-bottom: 1px solid #efefef;
			margin-bottom: 0;
		}
				
		input[name="searchKey"] {
			width: 70%;
			height: 33px;
		}
		
		.searchBtnDiv {
			text-align: center;
			margin-top: 10px;
		}
		.searchBtnDiv .btn-flip {
			height: 40px !important;
		}
		.dateInputDiv {
			display:flex;
		}
		.panel-heading > h4 {
			font-weight: bold;
			margin-bottom: 0;
			border-bottom: 2px solid #58666e;
			padding-bottom: 5px;
		}
		 .panel-body:nth-child(2) {
			padding-top: 0;
		}
		@media (max-width: 768px){
		.form-group {
			padding-bottom: 10px;
		}
		
		.dateInputDiv {
			display:block;
		}
		}
		
		@media (min-width: 768px) and (max-width: 1036px){
		.form-group:nth-child(3) {
			padding-bottom: 75px;
		}
		.dateInputDiv {
			display:block;
		}
		}
		
		@media (min-width: 767px) and (max-width: 819px){
		.form-group:nth-child(1) {
			padding-bottom: 70px;
		}
		}
		@media (min-width: 1037px){
		.form-group:nth-child(3) {
			padding-top: 5px;
		}
		}
	</style>
</th:block>

<th:block layout:fragment="customContents">
	<div class="col-md-12">
	
		<div class="panel">
			<!-- 패널 헤더 타이틀 -->
			<div class="panel-heading bg-white border-none">
	          <h4><span class="icon-direction icons"></span> 챌린지 카테고리 목록</h4>
	        </div>
	        
			<div class="panel-body">
				<!-- 챌린지 카테고리 검색 폼 Start -->
				<form class="searchCateTableForm">
					<div class="form-group">
						<label class="col-sm-2 col-md-1 control-label text-center"><b> 카테고리 검색</b></label>
						<div class="col-sm-10 col-md-11">
	                        <select class="select2-A">
	                            <option data-column="1">카테고리명</option>
	                            <option data-column="2">운동클래스</option>
	                        </select>
			                <input type="text" name="searchKey">
						</div>
					</div>
                    
					<div class="form-group">
						<label class="col-sm-2 col-md-1 control-label text-center"><b>등록일자</b></label>
						<div class="col-sm-10 col-md-11 dateInputDiv">
	                        <div>
	                        <input type="text" class="form-text mask-placeholder dateInput" placeholder="____/__/__"  required>
	                        	부터
	                        <input type="text" class="form-text mask-placeholder dateInput" placeholder="____/__/__"  required>
	                        	까지
	                        </div>
	                        <div>
	                        <input type="button" class="btn btn-round btn-default" value="오늘"/>
	                        <input type="button" class="btn btn-round btn-default" value="1주일"/>
	                        <input type="button" class="btn btn-round btn-default" value="1개월"/>
	                        <input type="button" class="btn btn-round btn-default" value="3개월"/>
	                        <input type="button" class="btn btn-round btn-default" value="1년"/>
	                        </div>
	                    </div>
				   	</div>
                    <div class="searchBtnDiv">
						<button type="button" class="btn-flip btn btn-gradient btn-primary ">
								검색 <span class="fa fa-search"></span>
						</button>
						<button type="button" class="btn-flip btn btn-outline btn-default">
								초기화
						</button>
					</div>
				</form>			
				<!-- 챌린지 카테고리 검색 폼 End -->			
							
				<!--챌린지 카테고리 데이터 테이블 Start-->
				<div class="responsive-table" >
	            	<table id="challengeCategory" class="table table-striped table-bordered" style="width: 100% " cellspacing="0">
						<thead>
							<tr>
								<th>챌린지 카테고리코드</th>
								<th>챌린지 카테고리명</th>
								<th>운동 클래스 카테고리명</th>
								<th>등록자 이메일</th>
								<th>등록 날짜</th>
								<th>수정</th>
								<th>삭제</th>
							</tr>
						</thead>
						<tbody>
							<!-- 
							<tr th:if="${not #lists.isEmpty(challengeCategoryList)}" th:each="l : ${challengeCategoryList}">
								<td th:text="${l.challengeCategoryName}"></td>
								<td th:text="${l.eClassCategorySmallCode}"></td>
								<td th:text="${l.member.memberEmail}"></td>
								<td th:text="${l.challengeCategoryRegDate}"></td>
								<td>
									<a href="#">수정</a>
								</td>
								<td>
									<a href="#">삭제</a>
								</td>
							</tr>
							 -->
							<tr th:if="${not #lists.isEmpty(challengeCategoryList)}" th:each="l : ${challengeCategoryList}">
								<td th:text="${l.challengeCategoryCode}"></td>
								<td th:text="${l.challengeCategoryName}"></td>
								<td th:text="${l.eClassCategorySmall.eClassCategorySmallName}"></td>
								<td th:text="${l.member.memberEmail}"></td>
								<td th:text="${l.challengeCategoryRegDate}"></td>
								<td>
									<a th:href="@{/challenge/challengeConfig/challengeCategoryUpdate(challengeCategoryCode=${l.challengeCategoryCode})}"><span class="label label-primary">수정</span></a>
								</td>
								<td>
									<a href="#"><span class="label label-danger">삭제</span></a>
								</td>
							</tr>
							<tr th:unless="${not #lists.isEmpty(challengeCategoryList)}">
								<td colspan="6">등록된 정보가 없습니다.</td>
							</tr>															
						</tbody>
					</table>
					<div style="text-align: center;">
                   		<a th:href="@{/challenge/challengeConfig/challengeCategoryInsert}" class="btn btn-outline btn-info btn-sm">카테고리 등록</a>
					</div>
				</div>
				<!--챌린지 카테고리 데이터 테이블 End -->
			</div>
		</div>
	</div>
	
	<div class="col-md-12">
	
		<div class="panel">
			<!-- 챌린지 세팅 패널 헤더 타이틀 -->
			<div class="panel-heading bg-white border-none">
	          <h4><span class="icon-direction icons"></span> 챌린지 세팅 목록</h4>
	        </div>
	        
			<div class="panel-body">
				<!-- 챌린지 세팅 검색 폼 Start-->
				<form class="searchSetTableForm">
					<div class="form-group">
						<label class="col-sm-2 col-md-1 control-label text-center"><b> 카테고리 검색</b></label>
						<div class="col-sm-10 col-md-11">
	                        <select class="select2-A">
	                            <option data-column="1">카테고리명</option>
	                            <option data-column="2">운동클래스</option>
	                        </select>
			                <input type="text" name="searchKey">
						</div>
					</div>
                    
					<div class="form-group">
						<label class="col-sm-2 col-md-1 control-label text-center"><b>등록일자</b></label>
						<div class="col-sm-10 col-md-11 dateInputDiv">
	                        <div>
	                        <input type="text" class="form-text mask-placeholder dateInput" placeholder="____/__/__"  required>
	                        	부터
	                        <input type="text" class="form-text mask-placeholder dateInput" placeholder="____/__/__"  required>
	                        	까지
	                        </div>
	                        <div>
	                        <input type="button" class="btn btn-round btn-default" value="오늘"/>
	                        <input type="button" class="btn btn-round btn-default" value="1주일"/>
	                        <input type="button" class="btn btn-round btn-default" value="1개월"/>
	                        <input type="button" class="btn btn-round btn-default" value="3개월"/>
	                        <input type="button" class="btn btn-round btn-default" value="1년"/>
	                        </div>
	                    </div>
				   	</div>
                    <div class="searchBtnDiv">
						<button type="button" class="btn-flip btn btn-gradient btn-primary ">
								검색 <span class="fa fa-search"></span>
						</button>
						<button type="button" class="btn-flip btn btn-outline btn-default">
								초기화
						</button>
					</div>
				</form>
				<!-- 챌린지 세팅 검색 폼 End-->
				
				<!--챌린지 카테고리 데이터 테이블 Start-->
				<div class="responsive-table" >
	            	<table id="challengeSetting" class="table table-striped table-bordered" style="width: 100% " cellspacing="0">
						<thead>
							<tr>
								<th>세팅코드</th>
								<th>인증 기간 이후 등록 가능 여부</th>
								<th>수정</th>
								<th>삭제</th>
							</tr>
						</thead>
						<tbody>
							<tr th:if="${not #lists.isEmpty(challengeSettingList)}" th:each="l : ${challengeSettingList}">
								<td th:text="${l.challengeSettingCode}"></td>
								<td th:text="${l.challengeSettingUpdateDo}"></td>
								<td>
									<a th:href="@{/challenge/challengeConfig/challengeSettingUpdate(challengeSettingCode=${l.challengeSettingCode})}"><span class="label label-primary">수정</span></a>
								</td>
								<td>
									<a href="#"><span class="label label-danger">삭제</span></a>
								</td>
							</tr>
							<tr th:unless="${not #lists.isEmpty(challengeCategoryList)}">
								<td colspan="6">등록된 정보가 없습니다.</td>
							</tr>															
						</tbody>
					</table>
					<div style="text-align: center;">
                   		<a th:href="@{/challenge/challengeConfig/challengeSettingInsert}" class="btn btn-outline btn-info btn-sm">세팅 등록</a>
					</div>
				</div>
				<!--챌린지 카테고리 데이터 테이블 End --> 		
			</div>
		</div>
	</div>



</th:block>

<th:block layout:fragment="customBodyScript">

	<!-- plugins -->
	<script th:src="@{/asset/js/plugins/moment.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.dataTables.min.js}"></script>
	<script th:src="@{/asset/js/plugins/dataTables.bootstrap.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.nicescroll.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.mask.min.js}"></script>

	<!-- custom -->
	<script th:src="@{/asset/js/main.js}"></script>
	<script type="text/javascript">
	
		
		

		$(document).ready(function() {
			/* 결제 일자 형식 지정*/
			 $('.mask-placeholder').mask("0000/00/00", {placeholder: "____/__/__"});
			
			 
			/* 데이터 테이블 생성*/
			var table1 = $('#challengeCategory').DataTable({
				order : false,
				lengthChange : false,
				pageLength : 15,
				filter: false,
				 dom: '<"top"i>rt<"bottom"p><"clear">',

				 "language": {
			     "info": "전체 _TOTAL_건",
		    	 "paginate": {
		                "first":      "처음",
		                "last":       "마지막",
		                "next":       "다음",
		                "previous":   "이전"
		            }
				 }
			});
			
			/* 레코드 수 포맷 */
			var info1 = table1.page.info();			
			$('#challengeCategory_info').html('전체 ' + info1.recordsTotal + '건').css('font-weight','bold');
			
			$('#challengeCategory').click(function(){
				$('#challengeCategory_info').html('전체 ' + info1.recordsTotal + '건');
			});
			
			
			/*챌린지 세팅 데이터 테이블 생성*/ 
			var table2 = $('#challengeSetting').DataTable({
				order : false,
				lengthChange : false,
				pageLength : 15,
				filter: false,
				 dom: '<"top"i>rt<"bottom"p><"clear">',
				 
				 "language": {
			     "info": "전체 _TOTAL_건",
		    	 "paginate": {
		                "first":      "처음",
		                "last":       "마지막",
		                "next":       "다음",
		                "previous":   "이전"
		            }
				 }

			});
			
			/* 레코드 수 포맷 */
			var info2 = table2.page.info();			
			$('#challengeSetting_info').html('전체 ' + info2.recordsTotal + '건').css('font-weight','bold');
			
			$('#challengeSetting').click(function(){
				$('#challengeSetting_info').html('전체 ' + info2.recordsTotal + '건');
			});
		 

		});
	</script>
</th:block>
</html>