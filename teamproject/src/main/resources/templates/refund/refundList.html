<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default}">
<!-- 사용자 정의 title -->
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<th:block layout:fragment="customCss">
	<style type="text/css">
.btn-outline {
	padding: 5px 20px;
}

#refundList tbody td:last-child .btn-default {
	width: 98px;
	padding: 5px;
}

#refundList tbody td {
	vertical-align: middle;
}
.modal-header {
	border-bottom: none;
}
.modal-footer{
	border-top: none;
}
</style>
</th:block>
<th:block layout:fragment="customContents">
	<div class="col-md-12">
		<div class="panel">
			<div class="panel-body">

				<div class="responsive-table">
					<!-- 데이터 테이블 -->
					<table id="refundList" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th>환불요청일자</th>
								<th>환불요청자</th>
								<th>환불상품</th>
								<th>사유</th>
								<th>상태</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="align-middle">2022-03-23</td>
								<td>홍길동</td>
								<td>챌린지</td>
								<td>사유사유사유사유사유사유사유사유사유사유사유사유사유사유사유사유사유</td>
								<td><input id="refundBtn" type="button"
									class="btn btn-outline btn-warning refundBtn" value="환불대기"></td>
							</tr>
							<tr>
								<td>2022-02-23</td>
								<td>홍길동</td>
								<td>챌린지</td>
								<td>사유카테고리</td>
								<td><input id="refundBtn" type="button"
									class="btn btn-outline btn-warning refundBtn" value="환불대기"></td>
							</tr>
							<tr>
								<td>2022-02-23</td>
								<td>이순신</td>
								<td>챌린지</td>
								<td>사유카테고리</td>
								<td><input id="refundBtn" type="button"
									class="btn btn-outline btn-default refundBtn" value="환불미승인"></td>
							</tr>
							<tr>
								<td>2022-02-24</td>
								<td>이순신</td>
								<td>운동클래스</td>
								<td>사유카테고리</td>
								<td><input id="refundBtn" type="button"
									class="btn btn-outline btn-success refundBtn" value="환불승인"></td>
							</tr>
							<tr>
								<td>2022-02-25</td>
								<td>유관순</td>
								<td>챌린지</td>
								<td>사유카테고리</td>
								<td><input id="refundBtn" type="button"
									class="btn btn-outline btn-success refundBtn" value="환불승인"></td>
							</tr>
							<tr>
								<td>2022-02-22</td>
								<td>유관순</td>
								<td>운동클래스</td>
								<td>사유카테고리</td>
								<td><input type="button"
									class="btn btn-outline btn-success refundBtn" value="환불승인"></td>
							</tr>
							<!-- <tr th:if="${not #lists.isEmpty(paymentList)}" th:each="l : ${paymentList}">
								<td th:text="${l.paymentCode}"></td>
								<td th:text="${l.memberEmail}"></td>
								<td th:text="${l.paymentMethodName}"></td>
								<td th:text="${l.paymentTotalOrderPrice}"></td>
								<td th:text="${l.paymentTotalPayPrice}"></td>
								<td th:text="${l.paymentState}"></td>
								<td th:text="${l.paymentRegDate}"></td>
							</tr>
							<tr th:unless="${not #lists.isEmpty(paymentList}">
								<td colspan="7">등록된 결제 내역이 없습니다.</td>
							</tr> -->
						</tbody>
					</table>
				</div>

				<div id="refundModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">환불 처리</h4>
							</div>
							<div class="modal-body">
								<p>One fine body&hellip;</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary"
									data-dismiss="modal">환불승인</button>
								<button type="button" class="btn btn-default"
									data-dismiss="modal">환불미승인</button>
								<div class="btn-group" role="group">
									<button type="button" class="btn  dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
										기타 <span class="fa fa-angle-down"></span>
									</button>
									<ul class="dropdown-menu">
										<li data-dismiss="modal"><a href="#">환불대기중으로 되돌리기</a></li>
										<li data-dismiss="modal"><a href="#">자동환불 재시도</a></li>
									</ul>
								</div>
							</div>
						</div>
						<!-- /.modal-content -->
					</div>
					<!-- /.modal-dialog -->
				</div>
				<!-- /.modal -->
			</div>

		</div>
	</div>
	</div>

</th:block>
<th:block layout:fragment="customBodyScript">
	<!-- plugins -->
	<script th:src="@{/asset/js/plugins/moment.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.dataTables.min.js}"></script>
	<script th:src="@{/asset/js/plugins/dataTables.bootstrap.min.js}"></script>
	<script th:src="@{/asset/js/plugins/jquery.nicescroll.js}"></script>
	<script
		src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
	<script
		src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.bootstrap.min.js"></script>
	<script
		src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>


	<!-- custom -->
	<script th:src="@{/asset/js/main.js}"></script>
	<script type="text/javascript">
		/*환불 처리 모달*/
		$('.refundBtn').on('click', function() {
			$('#refundModal').modal('show');
		});

		$(document).ready(
				function() {
					var searchBtn = function(e, dt, node, config) {
						node.parent().children().attr('class',
								'btn btn-default')
						node.attr('class', 'btn btn-info');
					}

					var table = $('#refundList').DataTable({
						order : [ 0, 'desc' ],
						lengthChange : false,
						pageLength : 15,
						buttons : [ {
							text : '전체',
							action : searchBtn

						}, {
							text : '환불대기',
							action : searchBtn

						}, {
							text : '환불승인',
							action : searchBtn

						}, {
							text : '환불미승인',
							action : searchBtn

						} ]
					});

					table.buttons().container().appendTo(
							'#refundList_wrapper .col-sm-6:eq(0)');

					$('.btn-group').children('.btn:eq(0)').attr('class',
							'btn btn-info');

				});
	</script>
	<!-- end: Javascript -->
</th:block>
</html>